<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Test Automation Framework : TAF CLI-Tool</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Test Automation Framework : TAF CLI-Tool
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Jul 24, 2013 by <font color="#0050B2">EGERGLE</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1378910403251 {margin-left: 1.5em;padding: 0px;}
div.rbtoc1378910403251 ul {list-style: decimal;margin-left: 0px;}
div.rbtoc1378910403251 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1378910403251'>
<ul>
    <li><a href='#TAFCLI-Tool-Introduction'>Introduction</a></li>
    <li><a href='#TAFCLI-Tool-SettingTerminalTypeforyourCLISession'>Setting Terminal Type for your CLI Session</a></li>
    <li><a href='#TAFCLI-Tool-WhitespaceCharacters'>Whitespace Characters&nbsp;</a></li>
<ul>
    <li><a href='#TAFCLI-Tool-1)Inputoftool'>1) Input of tool</a></li>
    <li><a href='#TAFCLI-Tool-2)Outputoftool'>2) Output of tool&nbsp;</a></li>
</ul>
    <li><a href='#TAFCLI-Tool-ImplementingAutoGeneratedCLI'>Implementing Auto Generated CLI</a></li>
<ul>
    <li><a href='#TAFCLI-Tool-CSVandMMConnection'>CSV and MM Connection</a></li>
<ul>
    <li><a href='#TAFCLI-Tool-1ActionPointand1VerificationPoint'>1 Action Point and 1 Verification Point</a></li>
    <li><a href='#TAFCLI-Tool-1ActionPointandMultipleVerificationPointsformultiplevalues'>1 Action Point and Multiple Verification Points for multiple values</a></li>
    <li><a href='#TAFCLI-Tool-MultipleActionPointswithSingleVerificationPointEach'>Multiple Action Points with Single Verification Point Each</a></li>
    <li><a href='#TAFCLI-Tool-MultipleActionPointswithMultipleVerificationPointsforMultipleValues'>Multiple Action Points with Multiple Verification Points for Multiple Values</a></li>
    <li><a href='#TAFCLI-Tool-MultipleTCScenario'>Multiple TC Scenario</a></li>
</ul>
    <li><a href='#TAFCLI-Tool-StoringCSVData'>Storing CSV Data</a></li>
<ul>
    <li><a href='#TAFCLI-Tool-MMLink'>MM Link</a></li>
    <li><a href='#TAFCLI-Tool-MMDataStorage'>MM Data Storage</a></li>
</ul>
</ul>
    <li><a href='#TAFCLI-Tool-ImplementedCLIExecutionmanually'>Implemented CLI Execution manually&nbsp;</a></li>
</ul></div> </p><h1 id="TAFCLI-Tool-Introduction">Introduction</h1><p>In this section the CLI implementation for taf will be explained with some useful examples and links. The CLI epic in its simplest form is set to allow the user to send mulitpl CLI commands in one single session.</p><p>In accordance to the standard testing in a CLI context this will be developed to execute a command and then expect an outcome with or with timeout. Both standard error and standard out will be monitored and or can be selected which one or both the user want to look at. For more information please see the CLI EPIC <span class="jira-issue" >
    <a href="http://jira-oss.lmera.ericsson.se/browse/CIP-939"><img class="icon" src="http://jira-oss.lmera.ericsson.se/images/icons/issuetypes/epic.png">CIP-939</a> -
    As a developer I want to design Test Case so it can be executed using CLI
    (<span class="jira-status"><img class="icon" src="http://jira-oss.lmera.ericsson.se/images/icons/statuses/open.png">Open</span>)
</span>
 </p><p> </p><h1 id="TAFCLI-Tool-SettingTerminalTypeforyourCLISession">Setting Terminal Type for your CLI Session</h1><p> To start a CLI session the user can set the terminal type once for this session. There are two methods getSession and getNewSession. the method getSession() will create a new session however if a session already exists with the same information, then that previous session will be returned. The getNewSession () will simply create a new session each time.</p><p>The CLI session currently will only support either the default terminal on the server your comunicating towards and if the user specifies a terminal type <strong><u>only the vt100 or xterm</u> </strong>can be set. If another terminal is specified a debug message will be written to the user stating: <u>&quot;This terminal type &lt;terminal type specified&gt; is not supported and will not be set&quot;. </u></p><p> </p><div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">import com.ericsson.cifwk.taf.tools.v2.Session;

import com.ericsson.cifwk.taf.tal.cli.TerminalVT100
import com.ericsson.cifwk.taf.tal.cli.TerminalXTerm
.....
 
Host host = DataHandler.getHostByName(&quot;ms1&quot;);  //taking host properties for ms1
TerminalVT100 vt100 = new TerminalVT100()
TerminalXTerm xterm = new TerminalXTerm()
		
vt100.setTerminal(80, 24 , 0, 0, &quot;&quot;)
xterm.setTerminal(80, 24 , 0, 0, &quot;&quot;)
          
Session session.getSession(host, vt100);    //terminal type vt100
Session session.getSession(host, xterm);    //terminal type xterm
 
Session session.getSession(host);                   //terminal type that is default on the other machine
Session session.getSession(host, null);             //terminal type that is default on the other machine
 </pre>
</div></div><p> </p><h1 id="TAFCLI-Tool-WhitespaceCharacters">Whitespace Characters </h1><p>The Cli tool will actively support both terminal type characters sent and remove whitepsace characters from the output on return.</p><h4 id="TAFCLI-Tool-1)Inputoftool">1) Input of tool</h4><p>For example in the code the user can send a \b or \t to indicate it wants to perform a back space or horizontal tab. the CLI tool will convert this value into its char reference and send the command.</p><p>i.e <strong>printf &quot;hello\b \t world</strong>&quot; will result in –&gt;  <strong>hell          world</strong></p><p>Below is the list of commands support</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">BEL</td><td class="confluenceTd">\a</td><td style="text-align: left;" class="confluenceTd">Bell</td></tr><tr><td class="confluenceTd">BS</td><td class="confluenceTd">\b</td><td style="text-align: left;" class="confluenceTd">Backspace</td></tr><tr><td class="confluenceTd">HT</td><td class="confluenceTd">\t</td><td style="text-align: left;" class="confluenceTd">Horizontal Tab</td></tr><tr><td class="confluenceTd">LF</td><td class="confluenceTd">\n</td><td style="text-align: left;" class="confluenceTd">Line feed</td></tr><tr><td class="confluenceTd">VT</td><td class="confluenceTd">\v</td><td style="text-align: left;" class="confluenceTd">Vertical Tab</td></tr><tr><td class="confluenceTd">FF</td><td class="confluenceTd">\f</td><td style="text-align: left;" class="confluenceTd">Form feed</td></tr><tr><td class="confluenceTd">CR</td><td class="confluenceTd">\r</td><td style="text-align: left;" class="confluenceTd">Carriage return</td></tr><tr><td colspan="1" class="confluenceTd">ESC</td><td colspan="1" class="confluenceTd">\e</td><td colspan="1" class="confluenceTd">Escape</td></tr><tr><td colspan="1" class="confluenceTd">NUL</td><td colspan="1" class="confluenceTd">\0</td><td colspan="1" class="confluenceTd">Null character</td></tr></tbody></table></div><h4 id="TAFCLI-Tool-2)Outputoftool">2) Output of tool </h4><p>All Whitespace characters returned  from the CLI tool will be removed from output that includes all 0-31 ascii characters and character 127 (which is delete).</p><h1 id="TAFCLI-Tool-ImplementingAutoGeneratedCLI">Implementing Auto Generated CLI</h1><p> </p><h3 id="TAFCLI-Tool-CSVandMMConnection">CSV and MM Connection</h3><p>Let us Consider the Test Case ID for this illustration is &quot;CIP-2507_Func_1&quot; and &quot;CIP-2507_Func_2&quot;.</p><h4 id="TAFCLI-Tool-1ActionPointand1VerificationPoint">1 Action Point and 1 Verification Point</h4><p><strong>MM:</strong></p><p><img class="confluence-embedded-image confluence-external-resource" src="download/attachments/26155028/389371107" data-image-src="http://confluence-oss.lmera.ericsson.se/download/attachments/26155028/image2013-5-15%2014%3A28%3A28.png?version=1&amp;modificationDate=1368624508000&amp;api=v2"></p><p><strong>CSV:</strong></p><div class="table-wrap"><table class="confluenceTable"><colgroup><col /> <col /> <col /> <col /> <col /> <col /> </colgroup><tbody><tr><td class="highlight-blue confluenceTd" data-highlight-colour="blue">Step</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">args</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stdout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stderr</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">exitcode</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">timeout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue"><p>host</p></td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd">Passed for 1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">10000</td><td class="confluenceTd">SC-1</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">3000k ms</td><td class="confluenceTd">Passed for 3000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">20000</td><td class="confluenceTd">SC-1</td></tr></tbody></table></div><h4 id="TAFCLI-Tool-1ActionPointandMultipleVerificationPointsformultiplevalues">1 Action Point and Multiple Verification Points for multiple values</h4><p><strong>MM:</strong></p><p><img class="confluence-embedded-image confluence-external-resource" src="download/attachments/26155028/589731016" data-image-src="http://confluence-oss.lmera.ericsson.se/download/attachments/26155028/image2013-5-15%2014%3A31%3A51.png?version=1&amp;modificationDate=1368624711000&amp;api=v2"></p><p><strong>CSV:</strong></p><div class="table-wrap"><table class="confluenceTable"><colgroup><col /> <col /> <col /> <col /> <col /> <col /> </colgroup><tbody><tr><td class="highlight-blue confluenceTd" data-highlight-colour="blue">Step</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">args</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stdout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stderr</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">exitcode</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">timeout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">host</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd">Passed for 1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">0</td><td class="confluenceTd">10000</td><td class="confluenceTd">SC-2</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">3000k ms</td><td class="confluenceTd">Passed for 3000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">21</td><td class="confluenceTd">20000</td><td class="confluenceTd">SC-1</td></tr></tbody></table></div><h4 id="TAFCLI-Tool-MultipleActionPointswithSingleVerificationPointEach">Multiple Action Points with Single Verification Point Each</h4><p><strong>MM:</strong></p><p><img class="confluence-embedded-image confluence-external-resource" src="download/attachments/26155028/1061315111" data-image-src="http://confluence-oss.lmera.ericsson.se/download/attachments/26155028/image2013-5-15%2014%3A33%3A40.png?version=1&amp;modificationDate=1368624820000&amp;api=v2"></p><p><strong>CSV:</strong></p><div class="table-wrap"><table class="confluenceTable"><colgroup><col /> <col /> <col /> <col /> <col /> <col /> </colgroup><tbody><tr><td class="highlight-blue confluenceTd" data-highlight-colour="blue">Step</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">args</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stdout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stderr</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">exitcode</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">timeout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">host</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd">Passed for 1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">10000</td><td class="confluenceTd">MS-1</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step2</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">Failed</td><td class="confluenceTd"> </td><td class="confluenceTd">20000</td><td class="confluenceTd">PL</td></tr></tbody></table></div><h4 id="TAFCLI-Tool-MultipleActionPointswithMultipleVerificationPointsforMultipleValues">Multiple Action Points with Multiple Verification Points for Multiple Values</h4><p><strong>MM:</strong></p><p><img class="confluence-embedded-image confluence-external-resource" src="download/attachments/26155028/1661452699" data-image-src="http://confluence-oss.lmera.ericsson.se/download/attachments/26155028/image2013-5-15%2014%3A34%3A55.png?version=1&amp;modificationDate=1368624895000&amp;api=v2"></p><p><strong>CSV:</strong></p><div class="table-wrap"><table class="confluenceTable"><colgroup><col /> <col /> <col /> <col /> <col /> <col /> </colgroup><tbody><tr><td class="highlight-blue confluenceTd" data-highlight-colour="blue">Step</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">args</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stdout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stderr</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">exitcode</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">timeout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">host</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd">Passed for 1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">0</td><td class="confluenceTd">10000</td><td class="confluenceTd">NETSIM</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">3000k ms</td><td class="confluenceTd">Passed for 3000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">0</td><td class="confluenceTd">10000</td><td class="confluenceTd">NETSIM</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step2</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">Failed</td><td class="confluenceTd">1</td><td class="confluenceTd">20000</td><td class="confluenceTd">RC</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step2</td><td class="confluenceTd">2000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">Failed</td><td class="confluenceTd">1</td><td class="confluenceTd">20000</td><td class="confluenceTd">RC</td></tr></tbody></table></div><h4 id="TAFCLI-Tool-MultipleTCScenario">Multiple TC Scenario</h4><p><strong>MM:</strong></p><p><img class="confluence-embedded-image confluence-external-resource" src="download/attachments/26155028/619916316" data-image-src="http://confluence-oss.lmera.ericsson.se/download/attachments/26155028/image2013-5-15%2014%3A49%3A19.png?version=1&amp;modificationDate=1368625759000&amp;api=v2"></p><p> </p><p><strong>CSV:</strong></p><div class="table-wrap"><table class="confluenceTable"><colgroup><col /> <col /> <col /> <col /> <col /> <col /> </colgroup><tbody><tr><td class="highlight-blue confluenceTd" data-highlight-colour="blue">Step</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">args</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stdout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">stderr</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">exitcode</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">timeout</td><td class="highlight-blue confluenceTd" data-highlight-colour="blue">host</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd">Passed for 1000k ms</td><td class="confluenceTd">Empty</td><td class="confluenceTd"> </td><td class="confluenceTd">10000</td><td class="confluenceTd">SC-1</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step1</td><td class="confluenceTd">3000k ms</td><td class="confluenceTd">Passed for 3000k ms</td><td class="confluenceTd">Empty</td><td class="confluenceTd"> </td><td class="confluenceTd">10000</td><td class="confluenceTd">SC-1</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step2</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">Failed</td><td class="confluenceTd">1</td><td class="confluenceTd">20000</td><td class="confluenceTd">SC-2</td></tr><tr><td class="confluenceTd">CIP-2507_Func_1_Step2</td><td class="confluenceTd">2000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">Failed</td><td class="confluenceTd">1</td><td class="confluenceTd">20000</td><td class="confluenceTd">SC-2</td></tr><tr><td class="confluenceTd">CIP-2507_Func_2_Step1</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd">Passed for 1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">0</td><td class="confluenceTd">10000</td><td class="confluenceTd"><p>NETSIM</p></td></tr><tr><td class="confluenceTd">CIP-2507_Func_2_Step1</td><td class="confluenceTd">3000k ms</td><td class="confluenceTd">Passed for 3000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">0</td><td class="confluenceTd">10000</td><td class="confluenceTd">NETSIM</td></tr><tr><td class="confluenceTd">CIP-2507_Func_2_Step2</td><td class="confluenceTd">1000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">Failed</td><td class="confluenceTd">1</td><td class="confluenceTd">20000</td><td class="confluenceTd">RC</td></tr><tr><td class="confluenceTd">CIP-2507_Func_2_Step2</td><td class="confluenceTd">2000k ms</td><td class="confluenceTd"> </td><td class="confluenceTd">Failed</td><td class="confluenceTd">1</td><td class="confluenceTd">20000</td><td class="confluenceTd">RC</td></tr></tbody></table></div><p> </p><h3 id="TAFCLI-Tool-StoringCSVData">Storing CSV Data</h3><h4 id="TAFCLI-Tool-MMLink">MM Link</h4><h4 id="TAFCLI-Tool-MMDataStorage">MM Data Storage</h4><h1 id="TAFCLI-Tool-ImplementedCLIExecutionmanually">Implemented CLI Execution manually </h1><p> </p><p> </p><p> </p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" style="background: url(http://confluence-oss.lmera.ericsson.se/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Sep 11, 2013 15:40</small></p>
            </div>
        </div>     </body>
</html>
