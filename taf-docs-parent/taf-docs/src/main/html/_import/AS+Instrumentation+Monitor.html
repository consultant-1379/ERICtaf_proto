<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Test Automation Framework : AS Instrumentation Monitor</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="page">
            <div id="main">
                <div id="main-header" class="pageSectionHeader">
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Test Automation Framework : AS Instrumentation Monitor
                        </span>
                    </h1>

                    <div class="page-metadata">
                        <p>This page last changed on Jan 17, 2013 by <font color="#0050B2">ejohlyn</font>.</p>
                    </div>
                </div>

                <div id="content" class="view">
                    <div id="main-content" class="wiki-content group">
                    <div class="wiki-content"><p>AS Instrumentation Monitor is a time-based monitor collecting MBean metrics at intervals specified in the properties file. </p><p>Monitor fetches data from JBOSS nodes available in DataHandler.getHosts() method that can be monitored i.e. has user, password and JXM port specifed and data is fetchable.</p><p>Monitor is saving data to &quot;asbmean.csv&quot; and it's chart has title &quot;asmbean&quot; in the HTML report.</p><h2 id="ASInstrumentationMonitor-Monitorconfiguration:">Monitor configuration:</h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Property</th><th class="confluenceTh">Accepted values</th><th class="confluenceTh">Default value</th><th class="confluenceTh">Description</th><th colspan="1" class="confluenceTh">Example</th></tr><tr><td class="confluenceTd">monitor.asmbean.enabled</td><td class="confluenceTd">true|false|1|0</td><td class="confluenceTd">false</td><td class="confluenceTd">Property to enable or disable the monitor before run</td><td colspan="1" class="confluenceTd">monitor.asmbean.enabled=true</td></tr><tr><td colspan="1" class="confluenceTd">monitor.asmbean.collectionTime</td><td colspan="1" class="confluenceTd">numbers</td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd">Property to specify interval of data being collected</td><td colspan="1" class="confluenceTd">monitor.asmbean.collectionTime=1</td></tr><tr><td colspan="1" class="confluenceTd">monitor.asmbean.dont_plot</td><td colspan="1" class="confluenceTd">columneNames</td><td colspan="1" class="confluenceTd">N/A</td><td colspan="1" class="confluenceTd">Property to specify columns that should not be shown on chart</td><td colspan="1" class="confluenceTd">monitor.asmbean.dont_plot=enabled</td></tr><tr><td colspan="1" class="confluenceTd">monitor.asmbean.mbean.<em>id.</em>name</td><td colspan="1" class="confluenceTd">string</td><td colspan="1" class="confluenceTd">N/A</td><td colspan="1" class="confluenceTd"><p>Property to specify name of the data inside a MBean and actual MBean string</p></td><td colspan="1" class="confluenceTd">monitor.asmbean.mbean.memory.name=java.lang:type=Memory</td></tr><tr><td colspan="1" class="confluenceTd">monitor.asmbean.mbean.<em>id.</em>forget</td><td colspan="1" class="confluenceTd">string</td><td colspan="1" class="confluenceTd">N/A</td><td colspan="1" class="confluenceTd">Property to specify which fields of MBean should not be monitored</td><td colspan="1" class="confluenceTd"><span>monitor.asmbean.mbean.memory.forget=</span>memorypool, Verbose</td></tr></tbody></table></div><p>As per above examples, every MBean that should be monitored must have specified name and can have specified fields that should not be monitored (e.g static fields like &quot;enabled&quot; that has same value &quot;true&quot;.</p><h2 id="ASInstrumentationMonitor-MonitoredData:">Monitored Data:</h2><p>Data logged into file has following column names:</p><p>nodeName_MBeanId__fieldOrSubfields, e.g.: eap_Memory_HeapMemoryUsage_committed</p><p>as every MBean's properties has separate column and are flattened until simple data format is reached. If List of Array is inside MBean property, its size is logged to the file, e.g for eap_Threading_AllThreadIds instead of list of Thread ids, amount of IDs will be logged.</p></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" style="background: url(http://confluence-oss.lmera.ericsson.se/images/border/border_bottom.gif) repeat-x;">
                <p><small>Document generated by Confluence on Sep 11, 2013 15:40</small></p>
            </div>
        </div>     </body>
</html>
